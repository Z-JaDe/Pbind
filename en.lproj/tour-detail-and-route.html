<h2><a href="/Pbind/en/tour-detail-and-route#导航栏" id=导航栏 aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>导航栏</h2>
<p>为支持界面跳转，我们先为应用加上导航栏，在 <code>Main.storyboard</code> 拖入一个 <code>NavigationController</code>：</p>

<p><img src="/Pbind/img/tour-sb@2x.png" alt="nav storyboard"/></p>

<p>接着将 原 <code>View Controller</code> 左边的箭头 <code>--&gt;</code> 拖动到 <code>Navigation Controller</code> 左部。</p>

<p>删除掉 <code>Navigation Controller</code> 右边的 <code>Root View Controller</code>。</p>

<p>右键 <code>Navigatin Controller</code>，将 <code>root view controller</code> 拖动指向 原 <code>View Controller</code>。</p>

<p><img src="/Pbind/img/tour-sb-new@2x.png" alt="nav storeboard new"/></p>

<p>重新运行程序：</p>

<p><img src="/Pbind/img/tour-nav-init@2x.png" alt="nav app"/></p>

<p>现在我们看到界面有点奇怪，我们来恢复成原生应该有的样子：</p>

<p>去除 <code>main.tableview.plist</code> 的 <code>headers</code> 属性，</p>

<p>再在 <code>Root</code> 下增加 <code>nav</code> 导航属性：</p>
<div name="plist-content"><table class="plist"><tbody><tr><th style="width: 40%">Key</th><th style="width: 25%">Type</th><th style="width: 35%">Value</th></tr></tbody><tbody><tr class="collapsible" data-level="1" data-empty="1"><td><span class="button collapse-button"></span><span>nav</span></td><td><span>Dictionary</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="2"><td><span class="button collapse-button"></span><span>title</span></td><td><span>String</span></td><td><span>Heroes</span></td></tr><tr><td></td><td></td><td></td></tr></tbody></table></div>
<p>保存，现在看起来应该好多了：</p>

<p><img src="/Pbind/img/tour-heroes-nav@2x.png" alt="nav clear"/></p>
<h2><a href="/Pbind/en/tour-detail-and-route#详情页" id=详情页 aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>详情页</h2>
<p>我们做一个简单的详情页，看起来像这样：</p>

<p><img src="/Pbind/img/tour-detail-snapshot@2x.png" alt="detail"/></p>
<h3><a href="/Pbind/en/tour-detail-and-route#详情页行布局" id=详情页行布局 aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>详情页行布局</h3>
<p>每一行由两个要素组成：标题、值，我们来创建一个 <code>hero-detail.cell.plist</code> 描述这个布局：</p>
<div name="plist-content"><table class="plist"><tbody><tr><th style="width: 40%">Key</th><th style="width: 25%">Type</th><th style="width: 35%">Value</th></tr></tbody><tbody><tr class="collapsible" data-level="0"><td><span class="button collapse-button"></span><span>Root</span></td><td><span>Dictionary</span></td><td><span class="sub">(3 items)</span></td></tr><tr class="collapsible" data-level="1"><td><span class="button collapse-button"></span><span>views</span></td><td><span>Dictionary</span></td><td><span class="sub">(2 items)</span></td></tr><tr class="collapsible" data-level="2"><td><span class="button collapse-button"></span><span>title</span></td><td><span>Dictionary</span></td><td><span class="sub">(1 item)</span></td></tr><tr data-level="3"><td><span class="button collapse-button"></span><span>clazz</span></td><td><span>String</span></td><td><span>UILabel</span></td></tr><tr class="collapsible" data-level="3" data-empty="1"><td><span class="button collapse-button"></span><span>properties</span></td><td><span>Dictionary</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="4"><td><span class="button collapse-button"></span><span>textColor</span></td><td><span>String</span></td><td><span>#666</span></td></tr><tr class="collapsible" data-level="2"><td><span class="button collapse-button"></span><span>value</span></td><td><span>Dictionary</span></td><td><span class="sub">(1 item)</span></td></tr><tr data-level="3"><td><span class="button collapse-button"></span><span>clazz</span></td><td><span>String</span></td><td><span>UILabel</span></td></tr><tr class="collapsible" data-level="3" data-empty="1"><td><span class="button collapse-button"></span><span>properties</span></td><td><span>Dictionary</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="4"><td><span class="button collapse-button"></span><span>numberOfLines</span></td><td><span>String</span></td><td><span>0</span></td></tr><tr data-level="4"><td><span class="button collapse-button"></span><span>textColor</span></td><td><span>String</span></td><td><span>#333</span></td></tr><tr class="collapsible" data-level="1" data-empty="1"><td><span class="button collapse-button"></span><span>metrics</span></td><td><span>Dictionary</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="2"><td><span class="button collapse-button"></span><span>titleWidth</span></td><td><span>String</span></td><td><span>300</span></td></tr><tr class="collapsible" data-level="1" data-empty="1"><td><span class="button collapse-button"></span><span>formats</span></td><td><span>Array</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="2"><td><span class="button collapse-button"></span><span>Item 0</span></td><td><span>String</span></td><td><span>|-[title(==titleWidth)]-[value]-|</span></td></tr><tr data-level="2"><td><span class="button collapse-button"></span><span>Item 1</span></td><td><span>String</span></td><td><span>V:|-[title]</span></td></tr><tr data-level="2"><td><span class="button collapse-button"></span><span>Item 2</span></td><td><span>String</span></td><td><span>V:|-[value]-|</span></td></tr><tr><td></td><td></td><td></td></tr></tbody></table></div><h3><a href="/Pbind/en/tour-detail-and-route#详情页表格配置" id=详情页表格配置 aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>详情页表格配置</h3>
<p>我们使用一个 TableView 来做，创建 <code>hero-detail.tableview.plist</code>：</p>
<div name="plist-content"><table class="plist"><tbody><tr><th style="width: 40%">Key</th><th style="width: 25%">Type</th><th style="width: 35%">Value</th></tr></tbody><tbody><tr class="collapsible" data-level="0"><td><span class="button collapse-button"></span><span>Root</span></td><td><span>Dictionary</span></td><td><span class="sub">(1 item)</span></td></tr><tr class="collapsible" data-level="1"><td><span class="button collapse-button"></span><span>properties</span></td><td><span>Dictionary</span></td><td><span class="sub">(2 items)</span></td></tr><tr class="collapsible" data-level="2" data-empty="1"><td><span class="button collapse-button"></span><span>row</span></td><td><span>Dictionary</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="3"><td><span class="button collapse-button"></span><span>layout</span></td><td><span>String</span></td><td><span>hero-detail.cell</span></td></tr><tr class="collapsible" data-level="2"><td><span class="button collapse-button"></span><span>rows</span></td><td><span>Array</span></td><td><span class="sub">(2 items)</span></td></tr><tr class="collapsible" data-level="3"><td><span class="button collapse-button"></span><span>Item 0</span></td><td><span>Dictionary</span></td><td><span class="sub">(1 item)</span></td></tr><tr class="collapsible" data-level="4" data-empty="1"><td><span class="button collapse-button"></span><span>properties</span></td><td><span>Dictionary</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="5"><td><span class="button collapse-button"></span><span>@title.text</span></td><td><span>String</span></td><td><span>Name</span></td></tr><tr data-level="5"><td><span class="button collapse-button"></span><span>@value.text</span></td><td><span>String</span></td><td><span>$name</span></td></tr><tr class="collapsible" data-level="3"><td><span class="button collapse-button"></span><span>Item 1</span></td><td><span>Dictionary</span></td><td><span class="sub">(1 item)</span></td></tr><tr class="collapsible" data-level="4" data-empty="1"><td><span class="button collapse-button"></span><span>properties</span></td><td><span>Dictionary</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="5"><td><span class="button collapse-button"></span><span>@title.text</span></td><td><span>String</span></td><td><span>Description</span></td></tr><tr data-level="5"><td><span class="button collapse-button"></span><span>@value.text</span></td><td><span>String</span></td><td><span>$desc</span></td></tr><tr><td></td><td></td><td></td></tr></tbody></table></div>
<p>其中 <strong>row</strong> 指定 <strong>layout</strong> 为 <code>hero-detail.cell</code>，<strong>rows</strong> 为每行的数据。</p>

<blockquote>
<p>当同时指定 row, rows 时， row将作为rows的公共配置，类似于基类的效果</p>
</blockquote>
<h2><a href="/Pbind/en/tour-detail-and-route#界面跳转" id=界面跳转 aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>界面跳转</h2>
<p>回到 <code>main.tableview.plist</code>，我们为每行的cell(<code>row</code>) 定义 <strong>actions</strong> 行为：</p>
<div name="plist-content"><table class="plist"><tbody><tr><th style="width: 40%">Key</th><th style="width: 25%">Type</th><th style="width: 35%">Value</th></tr></tbody><tbody><tr class="collapsible" data-level="1"><td><span class="button collapse-button"></span><span>actions</span></td><td><span>Dictionary</span></td><td><span class="sub">(1 item)</span></td></tr><tr class="collapsible" data-level="2"><td><span class="button collapse-button"></span><span>select</span></td><td><span>Dictionary</span></td><td><span class="sub">(1 item)</span></td></tr><tr data-level="3"><td><span class="button collapse-button"></span><span>type</span></td><td><span>String</span></td><td><span>push</span></td></tr><tr data-level="3"><td><span class="button collapse-button"></span><span>target</span></td><td><span>String</span></td><td><span>PBTableViewController</span></td></tr><tr class="collapsible" data-level="3" data-empty="1"><td><span class="button collapse-button"></span><span>params</span></td><td><span>Dictionary</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="4"><td><span class="button collapse-button"></span><span>title</span></td><td><span>String</span></td><td><span>.$name</span></td></tr><tr data-level="4"><td><span class="button collapse-button"></span><span>plist</span></td><td><span>String</span></td><td><span>hero-detail.tableview</span></td></tr><tr data-level="4"><td><span class="button collapse-button"></span><span>data</span></td><td><span>String</span></td><td><span>.$</span></td></tr><tr><td></td><td></td><td></td></tr></tbody></table></div>
<p><code>Action</code> 是Pbind的核心组件之一，用于定义交互行为。当指定 <strong>type</strong> 为 push 时，将弹出 <strong>target</strong> 界面，并为其赋上 <strong>params</strong> 初始值：</p>
<div class="highlight highlight-source-objc"><pre><span class="bp">UIViewController</span> <span class="o">*</span><span class="n">nextController</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PBTableViewController</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
<span class="n">nextController</span><span class="p">.</span><span class="n">title</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
<span class="n">nextController</span><span class="p">.</span><span class="n">plist</span> <span class="o">=</span> <span class="s">@&quot;hero-detail.tableview&quot;</span><span class="p">;</span>
<span class="n">nextController</span><span class="p">.</span><span class="n">data</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="n">data</span><span class="p">;</span>
<span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">supercontroller</span><span class="p">.</span><span class="n">navigationController</span> <span class="nl">pushViewController</span><span class="p">:</span><span class="n">nextController</span> <span class="nl">animated</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
</pre></div>
<p>有关更多Action的细节，可以参考<a href="/Pbind/en/pbaction" name="wq-redirect" data-redirect="en/pbaction">Action组件</a>。</p>

<p>我们注意到这里的 <code>actions</code> 是一个 <code>Dictionary</code>，并使用了键值 <code>select</code> 来对应每一行的选中事件(<code>didSelectCellAtIndexPath:</code>)，更多键值的定义可以参考<a href="/Pbind/en/pbrowmapper#actions" name="wq-redirect" data-redirect="en/pbrowmapper#actions">行事件</a>。</p>

<p>保存所有文件，点击首页英雄列表的行，将成功跳转的详情页：</p>

<p><img src="/Pbind/img/tour-route.gif" alt="route anim"/></p>
<h2><a href="/Pbind/en/tour-detail-and-route#总结与下一步" id=总结与下一步 aria-hidden="true" class="anchor"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>总结与下一步</h2>
<p>完整的 <code>main.tableview.plist</code>:</p>
<div name="plist-content"><table class="plist"><tbody><tr><th style="width: 40%">Key</th><th style="width: 25%">Type</th><th style="width: 35%">Value</th></tr></tbody><tbody><tr class="collapsible" data-level="0"><td><span class="button collapse-button"></span><span>Root</span></td><td><span>Dictionary</span></td><td><span class="sub">(2 items)</span></td></tr><tr class="collapsible" data-level="1" data-empty="1"><td><span class="button collapse-button"></span><span>nav</span></td><td><span>Dictionary</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="2"><td><span class="button collapse-button"></span><span>title</span></td><td><span>String</span></td><td><span>Heroes</span></td></tr><tr class="collapsible" data-level="1"><td><span class="button collapse-button"></span><span>properties</span></td><td><span>Dictionary</span></td><td><span class="sub">(2 items)</span></td></tr><tr class="collapsible" data-level="2"><td><span class="button collapse-button"></span><span>clients</span></td><td><span>Array</span></td><td><span class="sub">(1 item)</span></td></tr><tr class="collapsible" data-level="3" data-empty="1"><td><span class="button collapse-button"></span><span>Item 0</span></td><td><span>Dictionary</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="4"><td><span class="button collapse-button"></span><span>clazz</span></td><td><span>String</span></td><td><span>PBClient</span></td></tr><tr data-level="4"><td><span class="button collapse-button"></span><span>action</span></td><td><span>String</span></td><td><span>heroes</span></td></tr><tr class="collapsible" data-level="2"><td><span class="button collapse-button"></span><span>row</span></td><td><span>Dictionary</span></td><td><span class="sub">(2 items)</span></td></tr><tr data-level="3"><td><span class="button collapse-button"></span><span>layout</span></td><td><span>String</span></td><td><span>hero.cell</span></td></tr><tr class="collapsible" data-level="3" data-empty="1"><td><span class="button collapse-button"></span><span>properties</span></td><td><span>Dictionary</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="4"><td><span class="button collapse-button"></span><span>@name.text</span></td><td><span>String</span></td><td><span>.$name</span></td></tr><tr data-level="4"><td><span class="button collapse-button"></span><span>@desc.text</span></td><td><span>String</span></td><td><span>.$desc</span></td></tr><tr data-level="4"><td><span class="button collapse-button"></span><span>separatorInset</span></td><td><span>String</span></td><td><span>{0,0,0,0}</span></td></tr><tr class="collapsible" data-level="3"><td><span class="button collapse-button"></span><span>actions</span></td><td><span>Dictionary</span></td><td><span class="sub">(1 item)</span></td></tr><tr class="collapsible" data-level="4"><td><span class="button collapse-button"></span><span>select</span></td><td><span>Dictionary</span></td><td><span class="sub">(1 item)</span></td></tr><tr data-level="5"><td><span class="button collapse-button"></span><span>type</span></td><td><span>String</span></td><td><span>push</span></td></tr><tr data-level="5"><td><span class="button collapse-button"></span><span>target</span></td><td><span>String</span></td><td><span>PBTableViewController</span></td></tr><tr class="collapsible" data-level="5" data-empty="1"><td><span class="button collapse-button"></span><span>params</span></td><td><span>Dictionary</span></td><td><span class="sub">(0 items)</span></td></tr><tr data-level="6"><td><span class="button collapse-button"></span><span>title</span></td><td><span>String</span></td><td><span>.$name</span></td></tr><tr data-level="6"><td><span class="button collapse-button"></span><span>plist</span></td><td><span>String</span></td><td><span>hero-detail.tableview</span></td></tr><tr data-level="6"><td><span class="button collapse-button"></span><span>data</span></td><td><span>String</span></td><td><span>.$</span></td></tr><tr data-level="2"><td><span class="button collapse-button"></span><span>listKey</span></td><td><span>String</span></td><td><span>list</span></td></tr><tr><td></td><td></td><td></td></tr></tbody></table></div>
<p>通过本节，我们学习了通过Pbind来完成一个ViewController，并通过配置 <strong>action</strong> 来完成跳转。</p>

<p><a href="/Pbind/en/tour-add-hero" name="wq-redirect" data-redirect="en/tour-add-hero">下一步</a>我们将使用表单组件来添加英雄。</p>
